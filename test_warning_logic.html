<!DOCTYPE html>
<html>
<head>
    <title>Test Warning Logic</title>
</head>
<body>
    <h1>üß™ Test Warning Logic</h1>
    
    <div>
        <label>Input test:</label>
        <input type="text" id="testInput" placeholder="Nh·∫≠p comment ƒë·ªÉ test..." style="width: 300px; padding: 5px;">
        <button onclick="testComment()">Test</button>
    </div>
    
    <div id="result" style="margin-top: 20px; padding: 10px; border: 1px solid #ccc;"></div>
    
    <div style="margin-top: 20px;">
        <h3>Pre-defined Tests:</h3>
        <button onclick="runAllTests()">Run All Tests</button>
        <div id="allResults"></div>
    </div>

    <script>
        // Same logic as in news_detail.html
        const toxicKeywords = [
            'dm', 'ƒëm', 'fuck', 'shit', 'ngu', 'kh·ªën', 's√∫c v·∫≠t', 'th·∫±ng lol', 'con ch√≥', 'm·∫π ki·∫øp',
            'spam', 'click here', 'win money', 'free money', 'virus', 'hack'
        ];

        function checkCommentContent(text) {
            if (!text || text.length < 3) return false;
            
            const lowerText = text.toLowerCase().trim();
            const found = toxicKeywords.some(keyword => lowerText.includes(keyword.toLowerCase()));
            
            // Debug log
            if (found) {
                console.log('üö® Toxic content detected:', text);
                console.log('üîç Matched keywords:', toxicKeywords.filter(k => lowerText.includes(k.toLowerCase())));
            } else {
                console.log('‚úÖ Clean content:', text);
            }
            
            return found;
        }

        function testComment() {
            const input = document.getElementById('testInput').value;
            const result = checkCommentContent(input);
            
            document.getElementById('result').innerHTML = `
                <strong>Input:</strong> "${input}"<br>
                <strong>Result:</strong> ${result ? '‚ùå TOXIC (will show warning)' : '‚úÖ CLEAN (no warning)'}<br>
                <strong>Check console for details</strong>
            `;
        }

        function runAllTests() {
            const testCases = [
                { text: "B√†i vi·∫øt hay qu√°!", expected: false, description: "Positive comment" },
                { text: "dm", expected: true, description: "Toxic abbreviation" },
                { text: "C·∫£m ∆°n t√°c gi·∫£", expected: false, description: "Grateful comment" },
                { text: "th·∫±ng lol", expected: true, description: "Insulting term" },
                { text: "Kh√¥ng ƒë·ªìng √Ω", expected: false, description: "Disagreement" },
                { text: "click here to win money", expected: true, description: "Spam" },
                { text: "Th√¥ng tin b·ªï √≠ch", expected: false, description: "Informative" }
            ];

            let results = '<h4>Test Results:</h4>';
            testCases.forEach((testCase, index) => {
                const actual = checkCommentContent(testCase.text);
                const passed = actual === testCase.expected;
                
                results += `
                    <div style="margin: 5px 0; padding: 5px; background: ${passed ? '#d4edda' : '#f8d7da'};">
                        ${index + 1}. ${testCase.description}<br>
                        Input: "${testCase.text}"<br>
                        Expected: ${testCase.expected ? 'TOXIC' : 'CLEAN'} | 
                        Actual: ${actual ? 'TOXIC' : 'CLEAN'} | 
                        ${passed ? '‚úÖ PASS' : '‚ùå FAIL'}
                    </div>
                `;
            });

            document.getElementById('allResults').innerHTML = results;
        }

        // Auto-run tests when page loads
        window.onload = function() {
            runAllTests();
        };
    </script>
</body>
</html> 